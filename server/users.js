let users = [
  {
    id: "wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    avatar: null,
    name: "Valeriy",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-27T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-27T13:10:20+0800",
    userColor: 2,
  },
  {
    id: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    userId: "wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    avatar: null,
    name: "Maxim",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-26T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-26T13:10:20+0800",
    userColor: 3,
  },
  {
    id: "oymVbduXBQWWUeyPAeQDPYpzaih2",
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "oymVbduXBQWWUeyPAeQDPYpzaih2_D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    avatar: null,
    name: "Test",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-25T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-25T13:10:20+0800",
    userColor: 0,
  },
  {
    id: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    userId: "oymVbduXBQWWUeyPAeQDPYpzaih2",
    uniqueId: "oymVbduXBQWWUeyPAeQDPYpzaih2_D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    avatar: null,
    name: "Maxim",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-25T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-25T13:10:20+0800",
    userColor: 0,
  },
  {
    id: "oymVbduXBQWWUeyPAeQDPYpzaih2",
    userId: "wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    uniqueId: "oymVbduXBQWWUeyPAeQDPYpzaih2_wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    avatar: null,
    name: "Test",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-25T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-25T13:10:20+0800",
    userColor: 0,
  },
  {
    id: "wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    userId: "oymVbduXBQWWUeyPAeQDPYpzaih2",
    uniqueId: "oymVbduXBQWWUeyPAeQDPYpzaih2_wAeLWFdtWgcFQF4tPvMeEcPp4nJ2",
    avatar: null,
    name: "Valeriy",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-24T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-24T13:10:20+0800",
    userColor: 1,
  },
  {
    id: 2,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_2",
    avatar: "Manu.jpg",
    name: "Manu",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-26T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-26T13:10:20+0800",
    userColor: 1,
  },
  {
    id: 3,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_3",
    avatar: "Nikhi.jpg",
    name: "Nikhi Nikhi Nikhi Nikhi Nikhi Nikhi ",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-22T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-22T13:10:20+0800",
    userColor: 3,
  },
  {
    id: 4,
    userId: 2,
    uniqueId: "2_4",
    avatar: null,
    name: "Max",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-21T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T13:10:20+0800",
    userColor: 4,
  },
  {
    id: 5,
    userId: 2,
    uniqueId: "2_5",
    avatar: null,
    name: "Kriss",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-20T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-20T13:10:20+0800",
    userColor: 0,
  },
  {
    id: 6,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_6",
    avatar: null,
    name: "Evan Evan Evan Evan Evan Evan Evan Evan Evan Evan ",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-19T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-19T13:10:20+0800",
    userColor: 1,
  },
  {
    id: 7,
    userId: 3,
    uniqueId: "3_7",
    avatar: null,
    name: "Valeriy",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-18T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 4,
  },
  {
    id: 8,
    userId: 4,
    uniqueId: "4_8",
    avatar: null,
    name: "Alena",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-17T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 9,
    userId: 4,
    uniqueId: "4_9",
    avatar: null,
    name: "Karina",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-16T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 0,
  },
  {
    id: 10,
    userId: 4,
    uniqueId: "4_10",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-14T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 1,
  },
  {
    id: 11,
    userId: 4,
    uniqueId: "4_11",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-13T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 12,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_12",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-12T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 3,
  },
  {
    id: 13,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_13",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-11T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 1,
  },
  {
    id: 14,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_14",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-10T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 15,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_15",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-09T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 0,
  },
  {
    id: 16,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_16",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 3,
  },
  {
    id: 17,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_17",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 18,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_18",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 4,
  },
  {
    id: 19,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_19",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 20,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_20",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 21,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_21",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 22,
    userId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1",
    uniqueId: "D3M9bfjj9mSRfNR7gWKB2U7v4Ei1_22",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 0,
  },
  {
    id: 23,
    userId: 3,
    uniqueId: "3_23",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 3,
  },
  {
    id: 24,
    userId: 3,
    uniqueId: "3_24",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 25,
    userId: 3,
    uniqueId: "3_25",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 1,
  },
  {
    id: 26,
    userId: 3,
    uniqueId: "3_26",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 4,
  },
  {
    id: 27,
    userId: 3,
    uniqueId: "3_27",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 3,
  },
  {
    id: 28,
    userId: 3,
    uniqueId: "3_28",
    avatar: null,
    name: "Anton",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 4,
  },
  {
    id: 29,
    userId: 3,
    uniqueId: "3_29",
    avatar: null,
    name: "Michael",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 2,
  },
  {
    id: 30,
    userId: 3,
    uniqueId: "3_30",
    avatar: null,
    name: "Zoya",
    lastMessage: "47Y/91XQkM+NLj/jIlvreV9fKg==",
    time: "2021-08-08T13:10:20+0800",
    onlineState: false,
    typingState: false,
    lastOnline: "2021-08-21T08:19:03+0200",
    userColor: 0,
  },
];

const getFriendsHandlers = (userId) => {
  return users.filter((user) => user.userId === userId);
};

const updateUsersLastMessage = (senderId, recipientId, encryptedMessage) => {
  const _users = [...users];
  users = _users.map((user) => {
    if (
      (user.id === senderId && user.userId === recipientId) ||
      (user.id === recipientId && user.userId === senderId)
    ) {
      user.lastMessage = encryptedMessage;
    }
    return user;
  });
};

module.exports = {
  getFriendsHandlers,
  updateUsersLastMessage,
};
